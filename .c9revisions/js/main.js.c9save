{"ts":1372289390505,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var todos = {\n    1: {\n        'name': 'Take out the trash',\n        'due-date': 'May 31, 2013'\n    }, \n    2: {\n        'name': 'Finish homework',\n        'due-date': 'June 1, 2013'\n\n    },\n    3: {\n        'name': 'Cook dinner'//,\n        //'due-date': 'June 6, 2013'\n\n    }, \n    4: {\n        'name': 'Kick back and relax',\n        'due-date': 'June 20, 2013'\n\n    },\n    5: {\n        'name': 'Fix the sink'//,\n        //'due-date': 'June 30, 2013'\n    }\n    \n};\n\nvar printToDo = function(todo) {\n    if(todo['name'] && todo['due-date']) {\n        document.write('<li>' + todo.name + ' - due on ' + todo['due-date'] + '</li>');\n    } else {\n        throw \"this todo is missing some properties.\";\n    }\n}\n\ndocument.write('<div class=\"container\"><h2>My To-Do List</h2>');\ndocument.write('<ul class=\"to-do-list\">');\n\nfor(var key in todos) {\n    var todo = todos[key];\n    try {\n        printToDo(todo);\n    } catch(e) {\n        console.log(e);\n    }\n}\n\ndocument.write('</ul></div>');"]],"start1":0,"start2":0,"length1":0,"length2":983}]],"length":983}
{"contributors":[],"silentsave":false,"ts":1372289410967,"patch":[[{"diffs":[[0,"ar t"],[-1,"odo"],[1,"ask"],[0,"s = "],[-1,"{\n    1: "],[1,"["],[0,"{\n"],[-1,"    "],[0,"    "]],"start1":1,"start2":1,"length1":30,"length2":18},{"diffs":[[0,"ame'"],[1," "],[0,": '"],[-1,"Take out the trash',\n        'due-da"],[1,"Do the laundry'\n}, {\n    'comple"],[0,"te'"],[1," "],[0,": "],[-1,"'May 31, 2013'\n    }, \n    2:"],[1,"false\n},"],[0," {\n"],[-1,"    "],[0,"    "]],"start1":21,"start2":21,"length1":88,"length2":61},{"diffs":[[0,"ame'"],[1," "],[0,": 'F"],[-1,"inish homework"],[1,"eed the dog"],[0,"',\n    "],[-1," "],[-1,"   'due-da"],[1,"'comple"],[0,"te'"],[1," "],[0,": "],[-1,"'June 1, 2013'\n\n    },\n    3: {\n        'name': 'Cook dinner'//,\n        //'due-date': 'June 6, 2013'\n\n    }, "],[1,"false\n}];\n\ndocument.write('<h2>My Tasks</h2>');\ndocument.write('<ol>');\n\nfor(var i= 0; i < tasks.length; i++) {"],[0,"\n    "],[-1,"4:"],[1,"try"],[0," {\n "]],"start1":84,"start2":84,"length1":166,"length2":163},{"diffs":[[0,"    "],[-1,"'name': 'Kick back and relax',\n        'due-date': 'June 20, 2013'\n\n    },\n    5: {\n        'name': 'Fix the sink'//,\n        //'due-date': 'June 30, 2013'\n    }\n    \n};\n\nvar printToDo = function(todo) {\n    if(todo['name'] && todo['due-date']) {\n        document.write('<li>' + todo.name + ' - due on ' + todo['due-date'] + '</li>');\n    } else {\n        throw \"this todo is missing some properties.\";\n    }\n}\n\ndocument.write('<div class=\"container\"><h2>My To-Do List</h2>');\n"],[1,"printTask(tasks[i]);\n    } catch (msg) {\n        console.log('There is a problem: ' + msg);\n    }\n}\n\ndocument.write('</ol>');\n\nfunction printTask(task) {\n    if(typeof task.name == 'undefined') {\n        throw 'The name of this task is missing! Help!';\n    } else if (typeof task.complete == 'undefined') {\n        throw 'The completion status of this task is gone. OH NO'\n    }\n    \n    if(task['complete']) {\n        "],[0,"docu"]],"start1":250,"start2":250,"length1":485,"length2":427},{"diffs":[[0,"e('<"],[-1,"u"],[0,"l"],[1,"i"],[0," class=\""],[-1,"to-do-list\">');\n\nfor(var key in todos) {\n    var todo = todos[key];\n    try {\n        printToDo(todo"],[1,"complete\">' + task.name + '</li>'"],[0,");\n "]],"start1":686,"start2":686,"length1":118,"length2":51},{"diffs":[[0,"  } "],[-1,"catch(e)"],[1,"else"],[0," {\n "]],"start1":738,"start2":738,"length1":16,"length2":12},{"diffs":[[0,"    "],[-1,"console.log(e);\n    }\n}\n\ndocument.write('</ul></div>');"],[1,"document.write('<li>' + task.name + '</li>'); \n    }\n}\n\n\n\n"]],"start1":753,"start2":753,"length1":59,"length2":62}]],"length":815,"saved":false}
{"ts":1372289518517,"patch":[[{"diffs":[[0,"ks = [{\n"],[1,"        'name' : 'Defragment hard drive',\n        'complete' : true\n    }, {\n    "],[0,"    'nam"]],"start1":7,"start2":7,"length1":16,"length2":97},{"diffs":[[0,"aundry'\n"],[1,"    "],[0,"}, {\n   "]],"start1":118,"start2":118,"length1":16,"length2":20},{"diffs":[[0,"   }, {\n    "],[1," "],[1,"   "],[0,"'complete' :"]],"start1":127,"start2":127,"length1":24,"length2":28},{"diffs":[[0,": false\n"],[1,"    "],[0,"}, {\n"],[1,"    "],[0,"    'nam"]],"start1":154,"start2":154,"length1":21,"length2":29},{"diffs":[[0,"e dog',\n    "],[1,"  "],[1,"  "],[0,"'complete' :"]],"start1":196,"start2":196,"length1":24,"length2":28},{"diffs":[[0,": false\n"],[1,"    "],[0,"}];\n\ndoc"]],"start1":223,"start2":223,"length1":16,"length2":20}]],"length":920,"saved":false}
{"contributors":[],"silentsave":false,"ts":1374713033785,"patch":[[{"diffs":[[1,"\n"],[0,"var task"],[-1,"s"],[1,"App;\n\n$(document).ready(function(){\n\n    taskApp"],[0," = "],[-1,"["],[0,"{\n  "]],"start1":0,"start2":0,"length1":17,"length2":64},{"diffs":[[0,"    "],[-1,"'name' : 'Defragment hard drive',\n        'complete' : true\n    }, {\n        'name' : 'Do the laundry'\n    }, {\n        'complete' : false\n    }, {\n        'name' : 'Feed the dog',\n        'complete' : false\n    }];\n\ndocument.write('<h2>My Tasks</h2>');\ndocument.write("],[1,"\n        'settings' : {\n           'org' : 'tjnicolaides',\n           'app' : 'tasks',\n           'apiUrl' : \"https://api.usergrid.com/\"+this.org+\"/\"+this.app+\"/\",\n           'accessToken' : 'YXA6JZz8ZQD2xdkPPpRxtDN6nXTaqXU'\n        },\n        'tasks' : {\n            'list' : [],\n            'render' : function(task) {\n                if(typeof task.name === 'undefined') {\n                    throw 'The name of this task is missing! Help!';\n                } else if (typeof task.complete === 'undefined') {\n                    throw 'The completion status of this task is gone. OH NO';\n                }\n                \n                if(task.complete) {\n                    return '<li class=\"complete\">' + task.name + '</li>';\n                } else {\n                    if(task.urgent()) {\n                        return '<li class=\"urgent\">' + task.name + '</li>';\n\n                    } else {\n                        return '<li>' + task.name + '</li>'; \n                    }\n                }\n            },\n            'get' : function() { \n                apiRequest('GET', path, null,\n                 function(response) {\n                        console.log(response);\n                        //var output = JSON.stringify(response, null, 2);\n                        //$(\"#response\").html('<pre>'+output+'</pre>');\n                 },\n                 function (response) {\n                   //$(\"#response\").html('<pre>ERROR: '+response+'</pre>');\n                 }\n              );\n            }\n            \n        },\n        'add' : function(name, due) {\n            this.tasks.list.push(new Task(name, due));\n        },\n        'remove' : function() {\n            $('.complete').remove();\n            \n        },\n        'display' : function() {\n                var tasks = this.tasks;\n                var html = '<h2>My Tasks</h2>'; // contain our HTML as a string\n    \n                    html +="],[0,"'<ol>'"],[-1,")"],[0,";\n\n"],[1,"                    "],[0,"for("]],"start1":66,"start2":66,"length1":287,"length2":1963},{"diffs":[[0,"< tasks."],[1,"list."],[0,"length; "]],"start1":2041,"start2":2041,"length1":16,"length2":21},{"diffs":[[0,"    "],[-1,"try {\n        printTask"],[1,"                    try {\n                            html += tasks.render"],[0,"(tasks"],[1,".list"],[0,"[i])"]],"start1":2069,"start2":2069,"length1":37,"length2":93},{"diffs":[[0,"    "],[-1,"} catch (msg) {\n        console.log('There is a problem: ' + msg);\n    }\n}\n\ndocument.write('</ol>');\n\nfunction printTask(task) {\n    if(typeof task.name == 'undefined') {\n        throw 'The name of this task is missing! Help!';\n    } else if (typeof task.complete == 'undefined'"],[1,"                    } catch (msg) {\n                            console.log('There is a problem: ' + msg);\n                        }\n                    }\n                    \n                    html += '</ol>';\n                    $('.container').html(html); \n        },\n        '_apiRequest' : function(method, path, data, success, error) {\n            var ajaxOptions = {\n              type: method.toUpperCase(),\n              url: apiUrl + encodeURIComponent(path),\n              success: success,\n              error: error,\n              data: data || {},\n              contentType: \"application/json; charset=utf-8\",\n              dataType: \"json\"\n            }\n        \n            ajaxOptions.beforeSend = function(xhr) {\n               if (accessToken) { xhr.setRequestHeader(\"Authorization\", \"Bearer \" + session.accessToken) }\n            }\n        \n            $.ajax(ajaxOptions);\n        },\n        'init' : function("],[0,") {\n"]],"start1":2164,"start2":2164,"length1":286,"length2":941},{"diffs":[[0,"    "],[1," "],[-1,"throw 'The completion status of this task is gone. OH NO'\n"],[1,"   this.add('Take out the garbage', moment('2013-07-15'));\n            this.add('Fold the laundry', moment());\n            this.add('Feed the dog');\n            this.add('Do week 7 slides');\n            this.display();\n   "],[0,"    "],[1," "],[0,"}\n    "],[1,"     "],[0,"\n    "],[-1,"if(task['complete']) {\n        document.write('<li class=\"complete\">' + task.name + '</li>');\n    } else {\n        document.write('<li>' + task.name + '</li>'); \n    }\n}\n\n\n\n"],[1,"}\n    taskApp.init();\n});\n\nvar Task = function(name, due) {\n    // generate a task\n    \n    this.name = name || 'Generic task';\n    this['complete'] = false;\n    this.due = due || moment().add('days', 10);\n    this.urgent = function() {\n        var oneWeekFromNow = moment().add('days', 7);\n        console.log(oneWeekFromNow);\n\n        if(this.due.isBefore(oneWeekFromNow)) {\n            return true;\n        } \n        return false;\n    };\n}"]],"start1":3109,"start2":3109,"length1":250,"length2":691}]],"length":3800,"saved":false}
{"ts":1374713098352,"patch":[[{"diffs":[[0,"('GET', "],[-1,"path"],[1,"'/tasks'"],[0,", null,\n"]],"start1":1154,"start2":1154,"length1":20,"length2":24}]],"length":3804,"saved":false}
{"ts":1374713114974,"patch":[[{"diffs":[[0,"        "],[1,"this._"],[0,"apiReque"]],"start1":1136,"start2":1136,"length1":16,"length2":22}]],"length":3810,"saved":false}
{"ts":1374713129831,"patch":[[{"diffs":[[0,"       t"],[-1,"his"],[1,"askApp"],[0,"._apiReq"]],"start1":1137,"start2":1137,"length1":19,"length2":22}]],"length":3813,"saved":false}
{"ts":1374713160054,"patch":[[{"diffs":[[0,"   url: "],[1,"this.settings."],[0,"apiUrl +"]],"start1":2610,"start2":2610,"length1":16,"length2":30}]],"length":3827,"saved":false}
{"ts":1374713174194,"patch":[[{"diffs":[[0,"    if ("],[1,"this.settings."],[0,"accessTo"]],"start1":2939,"start2":2939,"length1":16,"length2":30}]],"length":3841,"saved":false}
{"ts":1374713223888,"patch":[[{"diffs":[[0," taskApp"],[1,", s"],[0,";\n\n$(doc"]],"start1":4,"start2":4,"length1":16,"length2":19},{"diffs":[[0,"    if ("],[-1,"this.setting"],[0,"s.access"]],"start1":2942,"start2":2942,"length1":28,"length2":16},{"diffs":[[0,"     \n    }\n"],[1,"    s = taskApp.settings;\n"],[0,"    taskApp."]],"start1":3379,"start2":3379,"length1":24,"length2":50}]],"length":3858,"saved":false}
{"ts":1374713271404,"patch":[[{"diffs":[[0," + s"],[-1,"ession"],[0,".acc"]],"start1":3014,"start2":3014,"length1":14,"length2":8}]],"length":3852,"saved":false}
{"ts":1374713300639,"patch":[[{"diffs":[[0,"/\"+this."],[1,"settings."],[0,"org+\"/\"+"]],"start1":207,"start2":207,"length1":16,"length2":25},{"diffs":[[0,"/\"+this."],[1,"settings."],[0,"app+\"/\","]],"start1":229,"start2":229,"length1":16,"length2":25}]],"length":3870,"saved":false}
{"ts":1374713329023,"patch":[[{"diffs":[[0,"grid.com/\"+t"],[-1,"his"],[1,"askApp"],[0,".settings.or"]],"start1":199,"start2":199,"length1":27,"length2":30},{"diffs":[[0,"rg+\"/\"+t"],[-1,"his"],[1,"askApp"],[0,".setting"]],"start1":228,"start2":228,"length1":19,"length2":22}]],"length":3876,"saved":false}
{"ts":1374713352466,"patch":[[{"diffs":[[0,"com/"],[-1,"\"+taskApp.settings.org+\"/\"+taskApp.settings.app+\""],[1,"tjnicolaides/tasks"],[0,"/\",\n"]],"start1":204,"start2":204,"length1":57,"length2":26}]],"length":3845,"saved":false}
{"ts":1374713365357,"patch":[[{"diffs":[[0,"GET', '/"],[-1,"tasks"],[0,"', null,"]],"start1":1161,"start2":1161,"length1":21,"length2":16}]],"length":3840,"saved":false}
{"ts":1374713373966,"patch":[[{"diffs":[[0,"'GET', '"],[-1,"/"],[0,"', null,"]],"start1":1160,"start2":1160,"length1":17,"length2":16}]],"length":3839,"saved":false}
{"ts":1374714130209,"patch":[[{"diffs":[[0,"nXTaqXU'"],[1,",\n           'authenticate': function() {\n                var path = 'token?username=tjnicolaides&password=:y^#XBQ.3C&grant_type=password';\n\n               apiRequest('GET', path, null,\n                 function(response) {\n                  console.log(response);\n                 },\n                 function (response) {\n                   $(\"#response\").html('<pre>ERROR: '+response+'</pre>');\n                 }\n              );\n           }"],[0,"\n       "]],"start1":282,"start2":282,"length1":16,"length2":462}]],"length":4285,"saved":false}
